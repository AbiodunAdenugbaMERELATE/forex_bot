#############################################
# CORE AUTH / INTEGRATIONS                  #
#############################################
OANDA_API_KEY=eda649aa53d9c4db6a07ca14848dda66-184e59e66196cbfdc290a96bc8ca4302
OANDA_ACCOUNT_ID=101-011-29397307-001
TELEGRAM_TOKEN=8027601632:AAFCQ2wH0YI9y3QfoFP38qe7JjtEJ_EN49A
TELEGRAM_CHAT_ID=1222205445

# Financial Modeling Prep API Key (news filter)
FMP_API_KEY=QVw9Y8RFFf04dnidZfHNsqLuUgQUYC5y

#############################################
# RISK & CAPITAL SCALING                    #
#############################################
# Percentage of (effective) balance risked per trade (e.g. 0.01 = 1%).
MAX_RISK_PER_TRADE=0.01
# Virtual equity dollar amount (0 disables). Used for scaling/capping risk sizing.
VIRTUAL_EQUITY=2000
# Mode: scale | cap | adaptive.
VIRTUAL_EQUITY_MODE=scale
# Adaptive participation (fraction of real balance to treat as virtual when adaptive grows).
ADAPT_PARTICIPATION_PCT=0.25
# Maximum multiplier that adaptive virtual equity can reach vs starting virtual equity.
ADAPT_MAX_MULTIPLIER=2.0
# Cooldown seconds after adaptive increase before next escalation.
ADAPT_COOLDOWN_SECONDS=3600
# Hard cap on units irrespective of sizing math (safety). 
MAX_UNITS_CAP=75000
# Minimum stop distance override (pips) to avoid ultra-tight stops.
MIN_STOP_PIPS_OVERRIDE=15
# Do not open a position if projected margin usage would exceed this fraction of NAV.
MARGIN_USAGE_CAP_PCT=0.25
# Global account currency (used for pip value heuristics).
ACCOUNT_CURRENCY=USD
# If true, skips live order placement and logs actions only.
DRY_RUN=false
# Equity based circuit breaker: flat % drawdown from starting NAV to stop trading (comment out to disable)
# EQUITY_STOP_PCT=0.15

#############################################
# POSITION SIZING OVERRIDES                 #
#############################################
# Fixed position size (units). If set, dynamic risk sizing is bypassed.
FIXED_POSITION_SIZE=1000
# Alternate variable name supported for backward compatibility.
FIXED_POSITION_UNITS=
# Restrict strategy to long-only positions when true.
LONG_ONLY=false

#############################################
# BRACKET / TAKE PROFIT CONFIG              #
#############################################
# Default target in R multiples when primary calc succeeds.
DEFAULT_TP_R_MULTIPLE=1.5
# Fallback TP R multiple if initial computation fails.
FALLBACK_TP_R_MULTIPLE=1.0
# Path for trade journal CSV.
TRADE_JOURNAL_PATH=trade_log.csv

#############################################
# SESSION / DAILY GUARDS                    #
#############################################
# Daily max cumulative loss in R (negative number).
DAILY_MAX_LOSS_R=-3
# Daily max cumulative profit in R (locks in gains when exceeded).
DAILY_MAX_PROFIT_R=6
# UTC hour to reset session metrics (0 = midnight UTC).
SESSION_RESET_HOUR=0

#############################################
# SPREAD & MARKET QUALITY FILTERS           #
#############################################
# Absolute max spread (pips) to allow entries.
MAX_SPREAD_PIPS=2.0
# Lookback window for median spread / outlier detection.
SPREAD_LOOKBACK=50

#############################################
# TRAILING STOP (R-BASED)                   #
#############################################
# Enable trailing logic (independent of mode selection).
TRAILING_ENABLED=true
# R at which to move stop to (entry +/- breakeven buffer).
TRAILING_ACTIVATE_R=1.0
# Additional R increments to lock more profit.
TRAILING_STEP_R=0.5
# Maximum R to lock via trailing (cap growth of locked portion).
TRAILING_MAX_LOCK_R=5.0
# Minimum seconds between trailing update attempts.
TRAILING_UPDATE_INTERVAL_SECONDS=15
# Minimum pip move required to push stop further.
TRAILING_MIN_MOVE_PIPS=3
# Breakeven buffer (pips) past entry before stop first shifts.
TRAILING_BREAKEVEN_BUFFER_PIPS=1

#############################################
# TRAILING STOP (MODE SELECTION & ATR)      #
#############################################
# Select trailing paradigm: R or ATR.
TRAILING_MODE=R
# ATR lookback period (if ATR mode active).
ATR_PERIOD=14
# Multiplier applied to ATR for stop distance (ATR mode).
ATR_MULTIPLIER=2.0

#############################################
# DATA / HEARTBEAT                          #
#############################################
# Maximum allowed age (seconds) of last tick before pausing new entries.
MAX_TICK_STALENESS_SECONDS=30

#############################################
# NEWS FILTER                               #
#############################################
# Already defined: FMP_API_KEY (above). Toggle logic internal based on presence.

#############################################
# OPTIONAL / ADVANCED (COMMENTED)           #
#############################################
# Adapt risk contraction after consecutive losses (internal thresholds).
# LOSS_STREAK_CONTRACT_THRESHOLD=3
# RISK_CONTRACTION_FACTOR=0.5
# RISK_RESTORE_STEP=0.1

# Additional placeholders for future features:
# MAX_CONCURRENT_TRADES=3
# COOLDOWN_SECONDS_AFTER_LOSS=300

#############################################
# END OF CONFIG                             #
#############################################
